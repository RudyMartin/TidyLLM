# VectorQA Database Tables Documentation
# This file documents all tables in the vectorqa database
# Generated: 2025-08-29
# Database: vectorqa
# Total Tables: 53

database_info:
  name: "vectorqa"
  host: "vectorqa-cluster.cluster-cu562e4m02nq.us-east-1.rds.amazonaws.com"
  total_tables: 53
  description: "VectorQA database for AI/ML processing, embeddings, and analytics"

tables:
  # =============================================================================
  # CORE MLFLOW TABLES (MLflow Integration)
  # =============================================================================
  mlflow_core:
    alembic_version:
      columns: 1
      description: "Database migration tracking for Alembic"
      purpose: "Schema version control"
    
    experiments:
      columns: 6
      description: "MLflow experiments storage"
      purpose: "Track experiment metadata and lifecycle"
    
    runs:
      columns: 14
      description: "MLflow experiment runs"
      purpose: "Store individual experiment run data"
    
    metrics:
      columns: 6
      description: "MLflow metrics storage"
      purpose: "Store experiment metrics and measurements"
    
    params:
      columns: 3
      description: "MLflow parameters"
      purpose: "Store experiment parameters"
    
    tags:
      columns: 3
      description: "MLflow tags"
      purpose: "Store experiment and run tags"
    
    experiment_tags:
      columns: 3
      description: "Experiment-specific tags"
      purpose: "Tag experiments for organization"
    
    registered_models:
      columns: 4
      description: "Registered ML models"
      purpose: "Store model registry information"
    
    model_versions:
      columns: 13
      description: "Model versioning information"
      purpose: "Track different versions of registered models"
    
    model_version_tags:
      columns: 4
      description: "Model version tags"
      purpose: "Tag specific model versions"
    
    registered_model_tags:
      columns: 3
      description: "Registered model tags"
      purpose: "Tag registered models"
    
    registered_model_aliases:
      columns: 3
      description: "Model aliases"
      purpose: "Create aliases for model versions"

  # =============================================================================
  # AI/ML PROCESSING TABLES
  # =============================================================================
  ai_ml_processing:
    chunk_embeddings:
      columns: 4
      description: "Vector embeddings storage"
      purpose: "Store encrypted text embeddings for similarity search"
      tidyllm_integration: "Primary table for encrypted embedding storage"
    
    document_chunks:
      columns: 13
      description: "Document chunking information"
      purpose: "Store document chunks for processing"
    
    document_metadata:
      columns: 18
      description: "Document metadata storage"
      purpose: "Store comprehensive document metadata"
    
    section_gists:
      columns: 19
      description: "Document section summaries"
      purpose: "Store AI-generated section summaries"
    
    prompt_history:
      columns: 17
      description: "AI prompt history"
      purpose: "Track all AI prompt interactions"
      tidyllm_integration: "Store encrypted prompt/response data"
    
    prompt_pipeline_errors:
      columns: 19
      description: "Error tracking for prompt pipeline"
      purpose: "Track and analyze prompt processing errors"
    
    error_patterns:
      columns: 10
      description: "Error pattern analysis"
      purpose: "Analyze and categorize error patterns"

  # =============================================================================
  # MVR (Model Validation & Review) TABLES
  # =============================================================================
  mvr_system:
    mvr_log:
      columns: 11
      description: "MVR logging"
      purpose: "Log MVR system activities"
    
    mvr_prompts:
      columns: 7
      description: "MVR prompts storage"
      purpose: "Store MVR-specific prompts"
    
    mvr_records:
      columns: 13
      description: "MVR records"
      purpose: "Store MVR processing records"
    
    review_runs:
      columns: 31
      description: "Review execution runs"
      purpose: "Track review process executions"
    
    review_findings:
      columns: 7
      description: "Review findings"
      purpose: "Store review results and findings"
    
    v_active_mvr_prompts:
      columns: 6
      description: "Active prompts view"
      purpose: "View of currently active MVR prompts"
    
    v_mvr_review_summary:
      columns: 13
      description: "Review summary view"
      purpose: "Summary view of MVR reviews"

  # =============================================================================
  # SME (Subject Matter Expert) TABLES
  # =============================================================================
  sme_system:
    sme_context_mapping:
      columns: 8
      description: "SME context mapping"
      purpose: "Map SMEs to specific contexts and domains"
    
    v_sme_context_expertise:
      columns: 8
      description: "SME expertise view"
      purpose: "View of SME expertise areas"

  # =============================================================================
  # MONITORING & ANALYTICS TABLES
  # =============================================================================
  monitoring_analytics:
    events_raw:
      columns: 8
      description: "Raw event data"
      purpose: "Store raw system events"
    
    events_daily:
      columns: 6
      description: "Daily event summaries"
      purpose: "Aggregated daily event data"
    
    daily_summary:
      columns: 10
      description: "Daily summaries"
      purpose: "Daily system summaries"
    
    latest_runs:
      columns: 14
      description: "Latest run data"
      purpose: "Most recent run information"
    
    latest_metrics:
      columns: 6
      description: "Latest metrics"
      purpose: "Most recent metrics data"
      tidyllm_integration: "Store encrypted performance metrics"
    
    real_time_context:
      columns: 6
      description: "Real-time context"
      purpose: "Real-time system context data"
    
    batch_processing_status:
      columns: 12
      description: "Batch processing status"
      purpose: "Track batch processing jobs"

  # =============================================================================
  # INTEGRATION & WEBHOOKS TABLES
  # =============================================================================
  integrations:
    mlflow_integration:
      columns: 7
      description: "MLflow integration configuration"
      purpose: "Store MLflow integration settings"
    
    webhooks:
      columns: 9
      description: "Webhook configurations"
      purpose: "Store webhook endpoint configurations"
    
    webhook_events:
      columns: 3
      description: "Webhook events"
      purpose: "Track webhook event deliveries"

  # =============================================================================
  # TRACING & OBSERVABILITY TABLES
  # =============================================================================
  tracing_observability:
    trace_info:
      columns: 8
      description: "Trace information"
      purpose: "Store distributed tracing data"
    
    trace_request_metadata:
      columns: 3
      description: "Request metadata"
      purpose: "Store request-level metadata"
    
    trace_tags:
      columns: 3
      description: "Trace tags"
      purpose: "Tag traces for organization"
    
    spans:
      columns: 11
      description: "Trace spans"
      purpose: "Store individual trace spans"
    
    assessments:
      columns: 16
      description: "Assessment data"
      purpose: "Store assessment results"
    
    entity_associations:
      columns: 6
      description: "Entity relationships"
      purpose: "Store relationships between entities"

  # =============================================================================
  # LOGGING & HISTORY TABLES
  # =============================================================================
  logging_history:
    alert_history:
      columns: 10
      description: "Alert history"
      purpose: "Track system alerts"
    
    inputs:
      columns: 6
      description: "Input data"
      purpose: "Store input data for processing"
    
    input_tags:
      columns: 3
      description: "Input tags"
      purpose: "Tag input data"
    
    logged_models:
      columns: 11
      description: "Logged model data"
      purpose: "Store logged model information"
    
    logged_model_metrics:
      columns: 10
      description: "Logged model metrics"
      purpose: "Store metrics for logged models"
    
    logged_model_params:
      columns: 4
      description: "Logged model parameters"
      purpose: "Store parameters for logged models"
    
    logged_model_tags:
      columns: 4
      description: "Logged model tags"
      purpose: "Tag logged models"

  # =============================================================================
  # MISC TABLES
  # =============================================================================
  misc:
    burgers_served:
      columns: 1
      description: "Test/example table"
      purpose: "Probably a test or example table"

# =============================================================================
# TIDYLLM INTEGRATION NOTES
# =============================================================================
tidyllm_integration:
  primary_tables:
    - "chunk_embeddings - For storing encrypted embeddings"
    - "metrics - For storing encrypted performance metrics"
    - "prompt_history - For storing encrypted prompt/response data"
    - "document_metadata - For storing encrypted document information"
    - "latest_metrics - For storing encrypted real-time metrics"
  
  encryption_notes:
    - "All sensitive data will be encrypted using AWS KMS"
    - "Embeddings will be encrypted before storage"
    - "Cache data will be encrypted"
    - "Metrics metadata may be encrypted based on sensitivity"
  
  database_connection:
    host: "vectorqa-cluster.cluster-cu562e4m02nq.us-east-1.rds.amazonaws.com"
    database: "vectorqa"
    username: "vectorqa_user"
    ssl_mode: "require"
    kms_key_id: "arn:aws:kms:us-east-1:188494237500:key/5573d70c-3f2d-44ca-924e-463faba85389"

# =============================================================================
# TABLE CATEGORIES SUMMARY
# =============================================================================
categories:
  mlflow_core: 12
  ai_ml_processing: 7
  mvr_system: 7
  sme_system: 2
  monitoring_analytics: 7
  integrations: 3
  tracing_observability: 6
  logging_history: 7
  misc: 1
  total: 53



